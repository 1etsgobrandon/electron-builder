diff --git a/lib/filesystem.js b/lib/filesystem.js
index 552055e2b735a38d818d06aff12f252aaa789efa..3b0cbb4e8d2085c8fe354c15fb7d49ead120773e 100644
--- a/lib/filesystem.js
+++ b/lib/filesystem.js
@@ -22,6 +22,9 @@ class Filesystem {
     let json = this.header
     const dirs = p.split(path.sep)
     for (const dir of dirs) {
+      if (!json.files[dir]) {
+        json.files[dir] = { files: {} }
+      }
       if (dir !== '.') {
         json = json.files[dir]
       }